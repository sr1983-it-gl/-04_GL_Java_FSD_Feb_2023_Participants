CREATE database IF NOT EXISTS `movie_directory`  ;

USE `movie_directory` ;

CREATE TABLE IF NOT EXISTS `actor` (
  `ACT_ID` INT NOT NULL,
  `ACT_NAME` VARCHAR(20) NULL DEFAULT NULL,
  `ACT_GENDER` CHAR(1) NULL DEFAULT NULL,
  PRIMARY KEY (`ACT_ID`));

CREATE TABLE IF NOT EXISTS `director` (
  `DIR_ID` INT NOT NULL,
  `DIR_NAME` VARCHAR(20) NULL DEFAULT NULL,
  `DIR_PHONE` INT NULL DEFAULT NULL,
  PRIMARY KEY (`DIR_ID`));

CREATE TABLE IF NOT EXISTS `movies` (
  `MOV_ID` INT NOT NULL,
  `MOV_TITLE` VARCHAR(25) NULL DEFAULT NULL,
  `MOV_YEAR` INT NULL DEFAULT NULL,
  `MOV_LANG` VARCHAR(12) NULL DEFAULT NULL,
  `DIR_ID` INT NULL DEFAULT NULL,
   PRIMARY KEY (`MOV_ID`),
    FOREIGN KEY (`DIR_ID`)
    REFERENCES `director` (`DIR_ID`));

CREATE TABLE IF NOT EXISTS `movie_cast` (
  `ACT_ID` INT NOT NULL,
  `MOV_ID` INT NOT NULL,
  `ROLE` VARCHAR(10) NULL DEFAULT NULL,
  PRIMARY KEY (`ACT_ID`, `MOV_ID`),
    FOREIGN KEY (`ACT_ID`)  REFERENCES `actor` (`ACT_ID`),
    FOREIGN KEY (`MOV_ID`)   REFERENCES `movies` (`MOV_ID`));

CREATE TABLE IF NOT EXISTS `rating` (
  `MOV_ID` INT NOT NULL,
  `REV_STARS` VARCHAR(25) NULL DEFAULT NULL,
  PRIMARY KEY (`MOV_ID`),
    FOREIGN KEY (`MOV_ID`)    REFERENCES `customer_directory`.`movies` (`MOV_ID`));
